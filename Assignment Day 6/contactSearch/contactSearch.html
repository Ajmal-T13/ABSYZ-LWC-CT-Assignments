<template>
    <lightning-card title="Search Contact Records">
        <div class="slds-p-around_medium">

        <lightning-input type="text" label="Search Contacts" value={searchTerm} onchange={handleSearchTermChange}></lightning-input>

        <template if:true={showContacts}>
            <div>
                <template if:true={contacts.length}>
                    <p>Name: {contactName}</p>
                    <p>Phone: {contactPhone}</p>
                    <p>Email: {contactEmail}</p>
                </template>
                <template if:true={contacts.length}>
                    <table class="slds-table slds-table_cell-buffer slds-table_bordered">
                        <thead>
                            <tr>
                                <th scope="col">Name</th>
                                <th scope="col">Phone</th>
                                <th scope="col">Email</th>
                            </tr>
                        </thead>
                        <tbody>
                            <template for:each={contacts} for:item="contact">
                                <tr key={contact.Id}>
                                    <td>{contact.Name}</td>
                                    <td>{contact.Phone}</td>
                                    <td>{contact.Email}</td>
                                </tr>
                            </template>
                        </tbody>
                    </table>
                </template>
                <template if:false={contacts.length}>
                    <p>No matching contacts found.</p>
                </template>
            </div>
        </template>

        <template if:true={error}>
            <p>Error fetching Contact data</p>
        </template>
        </div>
    </lightning-card>
</template>
